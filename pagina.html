<!doctype html>
<html>

<head>
	<title>Scatter Chart</title>
    <script src="Chart.js"></script>
    <script src="utils.js"></script>
	<link rel="stylesheet" href="estilo.css">
</head>

<body>
	<div style="width:75%">
		<canvas id="canvas"></canvas>
	</div>
	<button id="addDataset">Add Dataset</button>
<script>
	var chart = new Chart(canvas, {
		type: 'scatter',
		data: {
			datasets: [ {
				data: [
				{x: 3,y: 7},
				{x: 5,y: 9},
				{x: 7,y: 7},
				],				
				borderColor: 'black',
				borderWidth: 1, 
				pointBackgroundColor: 'orange',
				pointBorderColor: 'darkorange',
				pointRadius: 10,
				pointHoverRadius: 10,
				tension: 0,
				showLine: true,
				fill: false
			},{
				data: [
				{x: 9,y: 5},
				{x: 7,y: 7}
				],				
				borderColor: 'black',
				borderWidth: 1, 
				pointBackgroundColor: 'orange',
				pointBorderColor: 'darkorange',
				pointRadius: 10,
				pointHoverRadius: 10,
				tension: 0,
				showLine: true,
				fill: false
			}
			
				
			]
		},
		options: {
			scales: {
				xAxes: [{
					ticks: {
					min: 0,
					max: 10
					}
				}],
				yAxes: [{
					ticks: {
					min: 0,
					max: 10,
					padding: 10
					}
				}]
			}
		}
		});


		var colorNames = Object.keys(window.chartColors);
		document.getElementById('addDataset').addEventListener('click', function() {
			var colorName = colorNames[chart.data.datasets.length % colorNames.length];
			var newColor = window.chartColors[colorName];
			var newDataset = {
				label: 'Dataset ' + chart.data.datasets.length,
				backgroundColor: newColor,
				borderColor: newColor,
				data: [
				{x: 1,y: 5},
				{x: 2,y: 5},
				{x: 3,y: 5},
				{x: 4,y: 5},
				{x: 5,y: 5},
				],				
				borderColor: 'black',
				borderWidth: 1, 
				pointBackgroundColor: 'orange',
				pointBorderColor: 'darkorange',
				pointRadius: 10,
				pointHoverRadius: 10,
				tension: 0,
				showLine: true,
				fill: false,
				fill: false
			};

			for (var index = 0; index < chart.data.labels.length; ++index) {
				newDataset.data.push(randomScalingFactor());
			}

			chart.data.datasets.push(newDataset);
			
			chart.update();
		});
		
</script>
</body>
</html>
